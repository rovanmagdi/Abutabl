import{b as G,d as U,c as k,f as V,r as o,h as z,k as H,j as s,B as m,T as y}from"./index-c924bf14.js";import{A as B,a as C,b as E,c as $,d as D,B as _,V as q,S as M,e as Q,I as A,f as J,Z as K}from"./audio-a8b29d36.js";/* empty css                      */import{A as O,a as X}from"./arrow2-c22547f5.js";import{L as Y}from"./index-77f2515b.js";import{S as n}from"./logo-aboutabl-dark 2-34ff2b19.js";import{F as b}from"./Flex-2ae25098.js";import"./pack-sx-3cdbfbd6.js";const hs=()=>{var v,L;const N=G(),F=U(),c=k(a=>a.SubjectsReducer),P=k(a=>a.LessonReducer),{id:S,idUnit:R}=V(),[i,u]=o.useState(localStorage.getItem("id")),[r,T]=o.useState(),[d,t]=o.useState(localStorage.getItem("id")),[ss,w]=o.useState(""),[p,W]=o.useState(!1),[Z,I]=o.useState(!1);return o.useEffect(()=>{console.log(P,"1"),(async()=>(I(!0),await N(z(R)),await N(H(S)),I(!1)))()},[S,N]),o.useEffect(()=>{localStorage.setItem("id",d)},[d]),o.useEffect(()=>{var h,x;const a=[];(x=(h=c==null?void 0:c.subjectDetailsData)==null?void 0:h.units)==null||x.map(l=>{var g;(g=l==null?void 0:l.lessons)==null||g.map(j=>{var e;(e=j==null?void 0:j.contents)==null||e.map(f=>{(f==null?void 0:f.id)==localStorage.getItem("id")&&(u(f),t(f.id)),a.push(f)})})}),T(a)},[c]),s.jsxs(s.Fragment,{children:[s.jsxs(m,{className:"flex items-center mx-5 w-100 mt-3 mb-3",children:[s.jsx(m,{className:"cursor-pointer mx-5",onClick:()=>{F("/learn")},children:s.jsx(n,{width:80})}),s.jsx(y,{className:`${p?"ms-5":"ms-48"} text-LightSeaGreen text-l font-semibold`,children:i==null?void 0:i.name}),s.jsxs(b,{className:"justify-between ml-auto",children:[s.jsx("button",{className:`hover:font-semibold hover:text-base transition-all mx-5 ${(r==null?void 0:r.findIndex(a=>a.id==d))==0||d==""?"text-gray":"text-LightSeaGreen"}`,disabled:(r==null?void 0:r.findIndex(a=>a.id==d))==0||d=="",onClick:()=>{var h,x;let a=r==null?void 0:r.findIndex(l=>l.id==d);typeof a=="number"&&a!=-1&&(w((h=r[a-1])==null?void 0:h.type),t((x=r[a-1])==null?void 0:x.id),u(r[a-1]))},children:s.jsx("div",{className:"mx-2 flex justify-center",children:s.jsx("div",{children:"Previous"})})}),s.jsxs("button",{onClick:()=>{var h,x;let a=r==null?void 0:r.findIndex(l=>l.id==d);typeof a=="number"&&a!=-1&&(w((h=r[a+1])==null?void 0:h.type),t((x=r[a+1])==null?void 0:x.id),u(r[a+1]))},className:`hover:font-semibold hover:text-base transition-all ${(r==null?void 0:r.findIndex(a=>a.id==d))==(r==null?void 0:r.length)-1||d==""?"text-gray":"text-LightSeaGreen"} `,disabled:(r==null?void 0:r.findIndex(a=>a.id==d))==(r==null?void 0:r.length)-1||d=="",children:["Next",s.jsx("span",{className:"mx-2"})]})]})]}),Z?s.jsx(m,{className:"mt-48",children:s.jsx(Y,{})}):s.jsxs(b,{children:[s.jsx(m,{className:`${p&&"hidden"} transition-all`,children:s.jsx(B,{className:"accordionLessonContainer",allowZeroExpanded:!0,children:(L=(v=c==null?void 0:c.subjectDetailsData)==null?void 0:v.units)==null?void 0:L.map((a,h)=>{var x;return s.jsxs(C,{className:"accordionLesson",children:[s.jsx(E,{children:s.jsx($,{children:s.jsx(m,{className:"flex justify-between ",children:s.jsxs(m,{className:"px-5",children:[h+1," Unit - ",a==null?void 0:a.name,s.jsxs(y,{className:"text-stone-400 ",children:[a==null?void 0:a.lessons_count," Lessons - ",a==null?void 0:a.quizes_count," Quiz"]})]})})})}),s.jsx(D,{className:"accordionLesson",children:s.jsx(m,{children:(x=a==null?void 0:a.lessons)==null?void 0:x.map((l,g)=>{var j;return s.jsx(B,{allowZeroExpanded:!0,children:s.jsxs(C,{children:[s.jsx(E,{children:s.jsx($,{children:s.jsx(m,{className:"flex justify-between ",children:s.jsxs(m,{className:"flex items-center ",children:[s.jsx("img",{src:_,alt:"Book",className:"mr-2 color-#9C9B9B"}),s.jsx(y,{className:"text-stone-900 mb-2",children:l==null?void 0:l.name})]},g)})})}),s.jsx(D,{className:"accordionLesson",children:(j=l==null?void 0:l.contents)==null?void 0:j.map(e=>s.jsx(s.Fragment,{children:s.jsxs(b,{className:`cursor-pointer subLesson ${d==(e==null?void 0:e.id)&&"activeLesson"}`,onClick:()=>{t(e==null?void 0:e.id),u({path:e==null?void 0:e.path,name:e==null?void 0:e.name,type:e==null?void 0:e.type})},children:[s.jsx("img",{src:(e==null?void 0:e.type)=="video"?q:(e==null?void 0:e.type)=="pdf"?M:(e==null?void 0:e.type)=="word"?Q:(e==null?void 0:e.type)=="image"?A:(e==null?void 0:e.type)=="audio"?J:K,alt:"Book",className:"mr-2 color-#9C9B9B"}),s.jsxs("div",{className:"text-stone-400",children:[" ",e==null?void 0:e.type," : ",e==null?void 0:e.name]})]})}))})]},g)})})})})]},a.id)})})}),s.jsx(m,{className:`${p?"absoluteIconAfter":"absoluteIcon"} cursor-pointer`,onClick:()=>{W(!p)},children:s.jsx(m,{children:p?s.jsx("img",{src:O,alt:""}):s.jsx("img",{src:X,alt:""})})}),s.jsx(m,{className:`${p?"contentShow":"content"} w-full`,children:(i==null?void 0:i.type)=="image"?s.jsx("img",{src:i==null?void 0:i.path,style:{maxWidth:"100%",maxHeight:"90vh",marginLeft:"auto",marginRight:"auto"}}):(i==null?void 0:i.type)=="word"?s.jsx("iframe",{title:"Word and excel Viewer",allowFullScreen:!0,style:{width:"100%",height:"90vh"},scrolling:"no",src:"https://view.officeapps.live.com/op/embed.aspx?src="+(i==null?void 0:i.path)}):s.jsx("iframe",{src:i==null?void 0:i.path,allowFullScreen:!0,style:{width:"100%",height:"90vh"},scrolling:"no"})})]})]})};export{hs as default};
